<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Data Bind</title>
    <link rel="stylesheet" type="text/css" href="styles.css" >
</head>
<body>
<h1>Dom Data Bind - Development Workbench</h1>
<p id="menu">
    <script src="./menu.js"></script>
    <hr/>
</p>
<div id="ui">
    <div id="data">
        <h2>Data</h2>
<!-- ========================================================================== --><textarea>
{
    firstName: "Paul",
    lastName: "Tavares",
    address: {
        street: "23 central park west ",
        city: "New York",
        state: "New York",
        country: "USA"
    },
    cssClasses: {
        border: false ,
        padding: false,
        margin: false,
        "bg-blue": false,
        "bg-red": false,
        "bg-green": true
    },
    markup: '<h1>Hello</h1>',
    styles: {
        border: "3px solid red"
    },
    ifExtra: false,
    showExtra: true,
    headerTitleTag: "Some Title",
    onBinding: {
        click(ev) {
            ev.target.textContent = ev.target.textContent +
                "\r\nClick: " +
                (new Date()).getTime();
        },
        click2(msg, $ev) {
            $ev.target.textContent = $ev.target.textContent + msg;
        }
    },
    each: {
        list1: [
            { key: 1, name: "paul", color: "red" },
            { key: 2, name: "jack", color: "blue" }
        ],
        list2: {
            name: "paul",
            color: "red"
        }
    },
    appendToEle: function(item, $ev){
        $ev.target.textContent += "| " + item.name + Date.now();
    }
}



</textarea><!-- ========================================================================== -->
        <div id="dataError">{{dataError}}</div>
    </div>

    <div id="template">
        <h2>template</h2>
<!-- ========================================================================== --><textarea>
<div _style="{
        border: styles.border,
        padding: '0.5em'
    }">_style binding: {{ firstName }}</div>
<div>{{ lastName }}</div>
<div _class="cssClasses">
    <div>{{ address.city }}</div>
</div>

<hr/>
<div>_if binding below - currently {{ ifExtra ? 'Shown' : 'Hidden' }}</div>
<div class="bg-blue padding margin" _if="ifExtra">This is shown because data.showExtra is: {{ ifExtra }}</div>
<div _show="showExtra">
    _show binding
    <div class="" _class="{ 'bg-green': cssClasses['bg-green'] }">This is shown because data.showExtra is: {{ showExtra }}</div>
</div>


<hr/>
<div _class="{ border: true, padding: true }">
    <div>{{ address.street }}</div>
</div>
<h3 _attr.title="headerTitleTag">Title on this one</h3>

<hr/>
<div _on.click="onBinding.click" class="pre">CLICK ME!</div>

<div _on.click="onBinding.click2('time is: ' + Date.now(), $ev)" class="pre">CLICK ME as an expression!</div>


<hr/>
<h3>_loop directive</h3>
<h4>Object:</h4>
<div _each="(item, key) in each.list2" _key="key">
    Iteration: {{ key }} == {{ item }} (has access to top-level data: {{firstName}})
</div>

<h4>Array:</h4>
<table>
    <thead>
        <tr>
            <th>Key</th>
            <th>name</th>
            <th>color</th>
        </tr>
    </thead>
    <tbody>
        <tr _each="item of each.list1"
            _key="item.key">
            <td style="border-left-width:5px; border-left-style: solid;"
                _style="{ 'border-left-color': item.color }">{{ item.key }}</td>
            <td>
               <a _on.click="appendToEle(item, $ev)">{{ item.name }}</a>
            </td>
            <td>{{ item.color }}</td>
        </tr>
        <tr _if="!each.list1.len">
            <td colspan="100">No data</td>
        </tr>
    </tbody>
</table>



<hr/>
<h3>_html directive</h3>
<div _html="markup"></div>





</textarea><!-- ========================================================================== -->
    </div>

    <div id="out"></div>
</div>

<script src="DomDataBind.js"></script>
<script src="./workbench.js"></script>
</body>
</html>