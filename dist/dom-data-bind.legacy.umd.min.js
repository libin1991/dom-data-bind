!function(t,e,n,r,o,i,u,a,c,f,l,s,p,y,h,d,v,b,_,m,g,w,S,k,P){!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DomDataBind=e():t.DomDataBind=e()}(t,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||f.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&f.defineProperty(t,Symbol.toStringTag,{value:"Module"}),f.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=f.create(null);if(n.r(r),f.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return f.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n,r){"use strict";(function(e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.d(n,"a",function(){return i});var i="undefined"!==(void 0===t?"undefined":o(t))?t:"undefined"!==(void 0===e?"undefined":o(e))?e:"undefined"!==("undefined"==typeof self?"undefined":o(self))?self:l("return this;")()}).call(this,r(1))},function(e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||l("return this")()||(0,eval)("this")}catch(e){"object"===(void 0===t?"undefined":r(t))&&(o=t)}e.exports=o},function(n,o,a){"use strict";a.r(o);var s={};a.r(s),a.d(s,"AttrDirective",function(){return Ge}),a.d(s,"ClassDirective",function(){return rn}),a.d(s,"EachDirective",function(){return Sn}),a.d(s,"HtmlDirective",function(){return An}),a.d(s,"IfDirective",function(){return Fn}),a.d(s,"OnDirective",function(){return tr}),a.d(s,"PropDirective",function(){return ar}),a.d(s,"ShowDirective",function(){return br}),a.d(s,"StyleDirective",function(){return Dr});var p=l.bind.call.bind(l.bind),h=p(l.call.bind,l.call),b=h(f.prototype.toString),_=function(t){return"[object Object]"===b(t)},m=function(t){return"[object String]"===b(t)},g=f.defineProperty,w=f.defineProperties,S=f.keys,O=[],E=c.isArray,x=h(O.forEach),D=h(O.indexOf),C=h(O.splice),N=h(O.slice),R=k.log,T=k.error||R,A=(k.warn,"undefined"!=typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"),j=HTMLElement.prototype,H=e,$=(H.head,function(t){return H.createElement(t)}),I=function(t){return H.createTextNode(t||"")},M=(h(j.appendChild),h(j.insertBefore),h(j.hasAttribute)),B=h(j.getAttribute),K=h(j.setAttribute),V=h(j.removeAttribute);var L,W=function t(e){for(var n=e||{},r=arguments.length,o=new c(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var u,a,f=o.length,l=!1;for("boolean"==typeof e&&(l=e,n=o.shift()||{},f=o.length),u=0;u<f;u++)if(o[u])for(a in o[u])o[u].hasOwnProperty(a)&&(l&&_(n[a])&&_(o[u][a])?n[a]=t(!0,n[a],o[u][a]):n[a]=o[u][a]);return n};"undefined"==typeof WeakMap?function(){var e=f.defineProperty,n=i.now()%1e9,r=L=function(){this.name="__st"+(1e9*y.random()>>>0)+n+++"__"};r.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:P},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=P,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},t.WeakMap=r}():L=WeakMap;var G={stash:new L,create:function(){return new L}},F=a(0);function z(t,e){g(this,"_",{value:{keys:t.slice(0),values:e?e.slice(0):null,idx:0,total:t.length}})}w(z.prototype,{constructor:{value:z},next:{enumerable:!0,configurable:!0,value:function(){var t={done:this._.idx===this._.total};if(t.done)return t.value=P,t;var e=this._.idx++;return t.value=this._.keys[e],this._.values&&(t.value=[t.value,this._.values[e]]),t}}}),g(z.prototype,A,{value:function(){return this}});var U=F.a.Set&&F.a.Set.prototype[A]?F.a.Set:q;function q(){}function J(t){return function(t){if(c.isArray(t)){for(var e=0,n=new c(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in f(t)||"[object Arguments]"===f.prototype.toString.call(t))return c.from(t)}(t)||function(){throw new d("Invalid attempt to spread non-iterable instance")}()}w(q.prototype,function(t,e,n){return e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({constructor:{value:q,configurable:!0},_:{get:function(){var t=[];return g(this,"_",{value:t}),t}},add:{value:function(t){return-1===D(this._,t)&&this._.push(t),this}},has:{value:function(t){return-1!==D(this._,t)}},size:{get:function(){return this._.length}},clear:{value:function(){this._.splice(0)}},delete:{value:function(t){var e=D(this._,t);return-1!==e&&(this._.splice(e,1),!0)}},values:{value:function(){return new z(this._)}},entries:{value:function(){return new z(this._,this._)}},forEach:{value:function(t,e){var n=this;this._.forEach(function(e){return t(e,e,n)},e)}}},A,{value:function(){return this.values()}}));var Q,X=new U;var Y=function(t){"function"==typeof t&&(X.add(t),Q||(Q=r(Z,0)))};function Z(){var t,e=J(X);for(X.clear(),Q=null;t=e.shift();)t(),t=null}function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e,n){return(et=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return i.prototype.toString.call(Reflect.construct(i,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(l.bind.apply(t,r));return n&&ot(o,n.prototype),o}).apply(null,arguments)}function nt(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function ot(t,e){return(ot=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it=G.create(),ut=["destroy","remove","off"];function at(t){var e,n=[];for(e in t)n.push(e);return n}var ct={isDestroyed:!1,init:function(){},destroy:function(t){if(it.has(this)){var e=it.get(this);it.delete(this),t?e.forEach(lt):Y(function(){return e.forEach(lt)})}"boolean"==typeof this.isDestroyed&&(this.isDestroyed=!0)},onDestroy:function(t){(function(t){it.has(t)||it.set(t,[]);return it.get(t)})(this).push(t)},getFactory:function(){if(this.constructor)return this.constructor}},ft={extend:function(){for(var t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,e),nt(this,rt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(e,t),e}(this),e=arguments.length,n=new c(e),r=0;r<e;r++)n[r]=arguments[r];return W(t.prototype,n.reduce(function(t,e){if(e){var n=e.prototype||e;at(n).forEach(function(e){t[e]=n[e]})}return t},{})),t},isInstanceOf:function(t){return!!t&&!at(this.prototype).some(function(e){return void 0===t[e]})},create:function(){return et(this,c.prototype.slice.call(arguments))},getDestroyCallback:function(t,e){return function(){t&&f.keys(t).forEach(function(e){t[e]&&(ut.some(function(n){if(t[e][n]&&("remove"!==n||!(t[e]instanceof Node)))return t[e][n](),!0}),t[e]=P)}),e&&e.has&&e.has(t)&&e.delete(t)}}};function lt(t){"function"==typeof t&&t()}var st=function(){function t(){for(var e=arguments.length,n=new c(e),r=0;r<e;r++)n[r]=arguments[r];return this&&this.constructor&&this instanceof this.constructor?this.init.apply(this,n):et(t,n)}return t.prototype.constructor=t,t}();W(st.prototype,ct),W(st,ft);var pt=st;var yt=F.a.Map&&F.a.Map.prototype[A]?F.a.Map:ht;function ht(){}w(ht.prototype,function(t,e,n){return e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({constructor:{value:ht,configurable:!0},_:{get:function(){return g(this,"_",{value:{keys:[],values:[]}}),this._}},get:{value:function(t){return this._.values[D(this._.keys,t)]}},set:{value:function(t,e){return-1===D(this._.keys,t)&&(this._.keys.push(t),this._.values.push(e)),this}},has:{value:function(t){return-1!==D(this._.keys,t)}},size:{get:function(){return this._.keys.length}},clear:{value:function(){C(this._.keys,0),C(this._.values,0)}},delete:{value:function(t){var e=D(this._.keys,t);return-1!==e&&(C(this._.keys,e,1),C(this._.values,e,1),!0)}},keys:{value:function(){return new z(this._.keys)}},values:{value:function(){return new z(this._.values)}},entries:{value:function(){return new z(this._.keys,this._.values)}},forEach:{value:function(t,e){var n=this;this._.keys.forEach(function(e,r){return t(n._.values[r],e,n)},e)}}},A,{value:function(){return this.entries()}}));var dt=e,vt=l,bt=Element.prototype,_t=new yt,mt=1,gt="DomDataBind",wt=G.create(),St="D-".concat(i.now(),"-").concat(y.random().toString(36).replace(/[^a-z0-9]+/g,"")),kt=h,Pt=_,Ot=h(bt.removeChild),Et=p(dt.createComment,dt),xt=function(t){var e=b(t);return"[object HTMLTemplateElement]"===e||"[object HTMLUnknownElement]"===e&&!!t.content},Dt=T;function Ct(t){var e=arguments.length>1&&arguments[1]!==P?arguments[1]:"runtime";if(t=t.trim(),_t.has(t))return _t.get(t);var n=new vt("$DATA","\nwith ($DATA) {\n    if ($DATA.$data) {\n        with ($DATA.$data) {\n            return (".concat(t,");\n        }\n    } \n    return (").concat(t,");\n}\n//# sourceURL=valueGetter:").concat(e,".").concat(mt++,".js"));return _t.set(t,n),n}function Nt(t){for(var e=[],n=t.attributes.length,r=0;r<n;r++)e.push(t.attributes.item(r).name);return e}var Rt=function(t,e){return c.prototype.slice.call(t.querySelectorAll(e))},Tt=1,At=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},jt=function(){var e,n=0;for(e in t)n++;return n}(),Ht=At((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+jt.toString(36),4),$t=f.create({generate:function(){var t=(new i).getTime().toString(36),e=At((Tt++).toString(36),4),n="xxxxxxxx".replace(/[x]/g,function(){return(16*y.random()|0).toString(16)});return"c"+t+e+Ht+n}});function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Bt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t,e,n){return(Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vt(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vt(t){return(Vt=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,e),Bt(this,Vt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,pt),function(t,e,n){e&&Mt(t.prototype,e),n&&Mt(t,n)}(e,[{key:"init",value:function(t,e,n){this._directives=n,this._d=this._directive=t,this._n=this._node=e}},{key:"destroy",value:function(){var t=wt.get(this);t&&(t.tracker&&t.tracker.stopWatchingAll&&t.tracker.stopWatchingAll(),t.data&&(t.data=null)),Kt(Vt(e.prototype),"destroy",this).call(this),wt.delete(this)}},{key:"render",value:function(t){this._d.render(this,this._n,t)}},{key:"update",value:function(){}}]),e}();function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function zt(t,e){return!e||"object"!==Gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function qt(t,e){return(qt=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,e),zt(this,Ut(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,pt),function(t,e,n){e&&Ft(t.prototype,e),n&&Ft(t,n)}(e,[{key:"render",value:function(t,e,n){var r=this,o=wt.get(t);o||(o={data:null,value:"",isQueued:!1,tracker:function(){return r.render(t,e,o.data)}},wt.set(t,o)),o.data!==n&&(o.tracker.stopWatchingAll&&o.tracker.stopWatchingAll(),o.data=n),this.update(t)}},{key:"update",value:function(t){if(!t.isDestroyed){var e=wt.get(t);if(e){var n="";try{n=this._tokenValueGetter(e.data||{}),t.update&&t.update(n)}catch(t){Dt(t)}e.value!==n&&(e.value=n)}}}},{key:"cleanNode",value:function(t){this._attr&&8!==t.nodeType&&V(t,this._attr)}},{key:"getNodeHandler",value:function(t,e){return this.cleanNode(t),new this.constructor.NodeHandlerConstructor(this,t,e)}}],[{key:"has",value:function(){return""}},{key:"manages",value:function(){return!1}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Jt,"NodeHandlerConstructor",Wt);var Qt=Jt;function Xt(t,e){return e&&e.parentNode&&e.parentNode.insertBefore&&e.parentNode.insertBefore(t,e),t}function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),t}function ne(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t,e,n){return(re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=oe(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oe(t){return(oe=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function ie(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}function ue(t,e){return(ue=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(t){function e(){return Zt(this,e),ne(this,oe(e).apply(this,arguments))}return ie(e,Qt),ee(e,[{key:"init",value:function(t){this._tokenText=t,this._tokenValueGetter=Ct(t,"text")}},{key:"getNodeHandler",value:function(t){if(8===t.nodeType&&t.nodeValue===St){var n=t;t=Xt(I(""),n),n.parentNode.removeChild(n)}return re(oe(e.prototype),"getNodeHandler",this).call(this,t)}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ae,"NodeHandlerConstructor",function(t){function e(){return Zt(this,e),ne(this,oe(e).apply(this,arguments))}return ie(e,Wt),ee(e,[{key:"update",value:function(t){t!==this._node.nodeValue&&(this._node.nodeValue=t)}}]),e}());var ce=ae;var fe=function(){var t=H.createDocumentFragment();return t.appendChild(I("test")),t.appendChild(I("")),1===t.cloneNode(!0).childNodes.length}(),le=function(){var t=$("div"),e=I("test");return t.appendChild(e),!t.contains(e)}(),se=kt(Text.prototype.splitText),pe=new RegExp("{{(.*?)}}"),ye=new RegExp("{{(.*?)}}","g"),he=function(t){return t?t.nodeValue:""},de=function(t){return pe.test(he(t))},ve=function t(e){var n=arguments.length>1&&arguments[1]!==P?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,t),this.id=$t.generate(),xt(e)?this.ele=e:(this.ele=$("template"),this.ele.innerHTML=e),this._directives=n,this._bindings=_e(this.ele.content,n)},be=ve;function _e(t,e){var n,r=new Map,o=new Map,i=new Set,u=function(t){for(var e,r,u,a=n;e=t.has(n);)if(r=B(n,e),(u=t.manages())&&(a=Et("")),ge(o,a).push(Se(t,e,r)),V(n,e),u){i.add(n),n.parentNode.insertBefore(a,n);var c=$("div");c.appendChild(n),a.data=c.innerHTML}return u};return function(t){return[t].concat(Rt(t,"*")).reduce(Pe,[]).filter(ke)}(t).forEach(function(t){var r=!1;if(i.size){var a=!0,c=!1,f=P;try{for(var l,s=i.values()[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var p=l.value;if(le&&3===t.nodeType?16&p.compareDocumentPosition(t)&&(r=!0):p.contains(t)&&(r=!0),r)break}}catch(t){c=!0,f=t}finally{try{a||null==s.return||s.return()}finally{if(c)throw f}}}n=t,r||(1===t.nodeType?e.some(u):3===t.nodeType&&function(t){if(de(t)){ye.lastIndex=0;for(var e=he(t),n=ye.exec(e);n;)if(e==="{{"+n[1]+"}}")ge(o,t).push(we(ce,n[1])),n=null;else{var r=se(t,n.index);fe&&Oe(t),t=se(r,n[0].length);var i=r.parentNode.insertBefore(Et(St),r);r.parentNode.removeChild(r),ge(o,i).push(we(ce,n[1])),ye.lastIndex=0,!(n=ye.exec(he(t)))&&fe&&Oe(t)}}}(t))}),n=null,o.forEach(function(e,n){if(t!==n){for(var o=[],i=n,u=i.parentNode;i!==t;)o.unshift(o.indexOf.call(u.childNodes,i)),u=(i=i.parentNode).parentNode;r.set(o,e)}else r.set([],e)}),o.clear(),i.clear(),r}function me(t,e,n){var r=[];return e.forEach(function(e,o){var i=function(t,e){if(!e.length)return t;return x(e,function(e){return t=t.childNodes[e]}),t}(t,o);if(i)for(var u=0,a=e.length;u<a;u++)r.push(e[u].getNodeHandler(i,n));else Dt(new v("dom-data-bind#render(): Unable to find node!"))}),r}function ge(t,e){return t.has(e)||t.set(e,[]),t.get(e)}function we(t,e){e=e.trim();var n=wt.get(t);return n||(n={},wt.set(t,n)),n[e]||(n[e]=new t(e)),n[e]}function Se(t,e,n){n=n.trim();var r="".concat(e,"-").concat(St,"-").concat(n),o=wt.get(t);return o||(o={},wt.set(t,o)),o[r]||(o[r]=new t(e,n)),o[r]}function ke(t){return 1!==t.nodeType||1===t.nodeType&&t.attributes.length>0}function Pe(t,e){if(t.push(e),e.hasChildNodes())for(e=e.firstChild;e;){var n=e.nextSibling;3===e.nodeType&&e.nodeValue&&pe.test(he(e))&&t.push(e),fe&&Oe(e),e=n}return t}function Oe(t){3===t.nodeType&&fe&&!t.nodeValue&&(t.parentNode.insertBefore(Et(""),t),t.parentNode.removeChild(t))}var Ee=new Map;function xe(t){var e=arguments.length>1&&arguments[1]!==P?arguments[1]:xe.directives||[],n=m(t)?t:t.innerHTML;return De(n)||Ee.set(n,new be(t,e)),Ee.get(n)}function De(t){return Ee.has(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}xe.directives=null,xe.has=De;var Ne=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==P?arguments[2]:"";!function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,t),this._frag=e,this._bindings=n,this._childNodes=N(e.childNodes,0),this.fromTemplateId=r}return function(t,e,n){e&&Ce(t.prototype,e),n&&Ce(t,n)}(t,[{key:"recover",value:function(){var t=this;this._childNodes.forEach(function(e){return t._frag.appendChild(e)})}},{key:"destroy",value:function(){if(this._bindings){for(var t=0,e=this._bindings.length;t<e;t++)this._bindings[t].destroy();this._bindings.length=0}}},{key:"setData",value:function(t){for(var e=0,n=this._bindings.length;e<n;e++)this._bindings[e].render(t)}}]),t}();function Re(t,n,r){var o=t instanceof ve?t:xe(t,r),i=e.importNode(o.ele.content,!0);return i[gt]=new Ne(i,me(i,o._bindings,o._directives),o.id),i[gt].setData(n),i}var Te=Re,Ae=pt.extend({$ele:null,init:function(t,e){var n=this.getFactory(),r={html:t,data:e,directives:n.directives.slice(0)};wt.set(this,r),m(t)?(this.$ele=Re(t,e,r.directives),r.bindings=this.$ele._bindings):(this.$ele=t,r.bindings=me(t,_e(t,r.directives),r.directives),e&&this.setData(e)),this.onDestroy(function(){x(r.bindings,function(t){return t.destroy()}),delete r.data,delete r.directives,delete r.bindings,n.getDestroyCallback(r,wt)()})},setData:function(t){var e=wt.get(this).bindings;x(e,function(e){return e.render(t)})}}),je=Ae;function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Me(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),t}function Be(t,e){return!e||"object"!==He(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ke(t){return(Ke=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Ve(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}function Le(t,e){return(Le=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t,e,n){return e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ae.directives=[];var Ge=function(t){function e(){return $e(this,e),Be(this,Ke(e).apply(this,arguments))}return Ve(e,Qt),Me(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","attr"),this._htmlAttr=new RegExp(this.constructor._matches).exec(t)[1]}}],[{key:"has",value:function(t){var e=this,n="";return Nt(t).some(function(t){return e._matches.test(t)&&(n=t)}),n}}]),e}();We(Ge,"NodeHandlerConstructor",function(t){function e(){return $e(this,e),Be(this,Ke(e).apply(this,arguments))}return Ve(e,Wt),Me(e,[{key:"update",value:function(t){var e=wt.get(this),n=this._directive._htmlAttr;this._directive.constructor._isProp?t!==e.value&&(this._node[n]=t):t&&e.value!==t?K(this._node,n,t):e.value&&!t&&V(this._node,n)}}]),e}()),We(Ge,"_matches",/^_attr\.(.*)/),We(Ge,"_isProp",!1);var Fe=Ge;var ze=function(t,e){return!(!t||!e)&&t.classList.contains(e)};var Ue=function(t,e){var n=u(e).trim().split(/\s+/).map(function(t){return t.trim()});t&&n.length&&n.forEach(function(e){return t.classList.add(e)})};var qe=function(t,e){return t.classList.remove(e)};function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Ye(t,e,n){return e&&Xe(t.prototype,e),n&&Xe(t,n),t}function Ze(t,e){return!e||"object"!==Je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t){return(tn=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function en(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}function nn(t,e){return(nn=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rn=function(t){function e(){return Qe(this,e),Ze(this,tn(e).apply(this,arguments))}return en(e,Qt),Ye(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","class")}}],[{key:"has",value:function(t){return M(t,"_class")?"_class":""}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rn,"NodeHandlerConstructor",function(t){function e(){return Qe(this,e),Ze(this,tn(e).apply(this,arguments))}return en(e,Wt),Ye(e,[{key:"update",value:function(t){var e=this._node,n=wt.get(this).value||{};f.keys(t).concat(f.keys(n)).forEach(function(n){t[n]&&!ze(e,n)?Ue(e,n):!t[n]&&ze(e,n)&&qe(e,n)})}}]),e}());function on(t,e){return function(t){if(c.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=P;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new d("Invalid attempt to destructure non-iterable instance")}()}function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function fn(t,e,n){return e&&cn(t.prototype,e),n&&cn(t,n),t}function ln(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?dn(t):e}function sn(t,e,n){return(sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=pn(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pn(t){return(pn=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function yn(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}function hn(t,e){return(hn=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vn(t,e,n){return e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bn=Symbol("directive.each.setup"),_n="_key",mn=function(t){return t._destroy()},gn=function(t){return t},wn=function(t){function e(){var t,n;an(this,e);for(var r=arguments.length,o=new c(r),i=0;i<r;i++)o[i]=arguments[i];return vn(dn(dn(n=ln(this,(t=pn(e)).call.apply(t,[this].concat(o))))),"binders",[]),vn(dn(dn(n)),"bindersByKey",new yt),vn(dn(dn(n)),"listIterator",function(){return n._directive.iterateOverList(dn(dn(n)),wt.get(dn(dn(n))).value)}),n}return yn(e,Wt),fn(e,[{key:"init",value:function(t,n,r){sn(pn(e.prototype),"init",this).call(this,t,n,r),this._placeholderEle=Et("directive.each"),this._isSoleChild=function(t){return c.prototype.every.call(t.parentNode.childNodes,function(e){return e===t||3===e.nodeType&&!e.textContent.trim()})}(this._node),this._viewTemplate=xe(n.data,r),this._viewTemplate[bn]||function(t){if(!t[bn]){t[bn]={usesKey:!1,getKey:gn};var e=t.ele.content.firstChild;e&&e.hasAttribute&&M(e,_n)&&(t[bn].usesKey=!0,t[bn].getKey=Ct(B(e,_n),"each.key"),V(e,_n))}}(this._viewTemplate),Xt(this._placeholderEle,n),Ot(n.parentNode,n)}},{key:"update",value:function(t){var e=wt.get(this);t!==e.value&&(e.value=null,this.listIterator.stopWatchingAll&&this.listIterator.stopWatchingAll()),t?(e.value=t,function(t){return E(t)&&!t.length||Pt(t)&&!S(t).length}(t)&&this.binders?this._directive.destroyChildBinders(this.binders,this):this.listIterator()):this._directive.destroyChildBinders(this.binders,this)}},{key:"destroy",value:function(){this.listIterator.stopWatchingAll&&this.listIterator.stopWatchingAll(),this.bindersByKey.clear(),this._directive.destroyChildBinders(this.binders,this),sn(pn(e.prototype),"destroy",this).call(this)}}]),e}(),Sn=function(t){function e(){return an(this,e),ln(this,pn(e).apply(this,arguments))}return yn(e,Qt),fn(e,[{key:"init",value:function(t,e){var n=on(function(t){var e=/\(?(.+?)\)?\W?(?:of|in)\W(.*)/.exec(t);if(e)return(e=e.slice(1))[0]=e[0].split(/,/).map(function(t){return u(t).trim()}),e;return[]}((e||"").trim()),2),r=n[0],o=n[1];this._attr=t,this._iteratorArgs=r,this._tokenValueGetter=Ct(o||"","each")}},{key:"destroyChildBinders",value:function(t,e){if(t&&t.length)if(t=t.splice(0),e._isSoleChild){var n=e._placeholderEle.parentNode;n.textContent="",n.appendChild(e._placeholderEle),r(function(){x(t,function(t){return t._destroy()})})}else x(t,function(t){return t._destroy()})}},{key:"getDataForIteration",value:function(t,e){return this._iteratorArgs.reduce(function(e,n){return e[n]=t.shift(),e},e||{})}},{key:"iterateOverList",value:function(t,e){var n,r=wt.get(t),o=E(e);if(o)o=!0,n=e;else{if(!Pt(e))return;n=S(e)}for(var i=t.binders,u=new yt,a=n.length,c=t._viewTemplate[bn],f=c.usesKey,l=c.getKey,s=0;s<a;s++){var p={$root:r.data.$root||r.data,$parent:r.data,$data:r.data.$data||r.data};o?this.getDataForIteration([n[s],s],p):this.getDataForIteration([e[n[s]],n[s],s],p);var y=l(f?p:o?n[s]:e[n[s]]);if(i[s]&&i[s]._loop.rowKey===y)i[s][gt].setData(p);else{i[s]&&(i[s][gt].recover(),u.set(i[s]._loop.rowKey,i[s]),i[s]=null);var h=t.bindersByKey.get(y);if(h?null!==h._loop.pos&&i[h._loop.pos]===h&&(i[h._loop.pos]=null):(h=u.get(y))&&u.delete(y),h)i[s]=h,h._loop.pos=s,i[s][gt].recover(),kn(i,s,t._placeholderEle),i[s][gt].setData(p);else{if(u.size){var d=on(u.entries().next().value,2),v=d[0];(h=d[1])[gt].setData(p),u.delete(v),h._loop.rowKey=y,h._loop.pos=s}else(h=Re(t._viewTemplate,p,t._directives))._destroy=Pn,h._handler=t,h._loop={rowKey:y,pos:s};i[s]=h,t.bindersByKey.set(y,h),kn(i,s,t._placeholderEle)}}}u.size&&(x(u.values(),mn),u.clear()),a<i.length&&x(C(i,a),mn)}}],[{key:"has",value:function(t){return M(t,"_each")?"_each":""}},{key:"manages",value:function(){return!0}}]),e}();function kn(t,e,n){var r=t[e];r[gt].recover(),t[e+1]?Xt(r,t[e+1][gt]._childNodes[0]):Xt(r,n)}function Pn(){this[gt].recover(),this._loop.rowKey&&this._handler.bindersByKey.delete(this._loop.rowKey),this[gt].destroy()}vn(Sn,"NodeHandlerConstructor",wn);function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Dn(t,e,n){return e&&xn(t.prototype,e),n&&xn(t,n),t}function Cn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return(Nn=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Rn(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}function Tn(t,e){return(Tn=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var An=function(t){function e(){return En(this,e),Cn(this,Nn(e).apply(this,arguments))}return Rn(e,Qt),Dn(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","html")}}],[{key:"has",value:function(t){return M(t,"_html")?"_html":""}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(An,"NodeHandlerConstructor",function(t){function e(){return En(this,e),Cn(this,Nn(e).apply(this,arguments))}return Rn(e,Wt),Dn(e,[{key:"update",value:function(t){t!==wt.get(this).value&&(this._node.innerHTML=t)}}]),e}());function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e,n){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vn(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $n(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Mn(t,e,n){return e&&In(t.prototype,e),n&&In(t,n),t}function Bn(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?Kn(t):e}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return(Vn=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Ln(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}function Wn(t,e){return(Wn=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t,e,n){return e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fn=function(t){function e(){return $n(this,e),Bn(this,Vn(e).apply(this,arguments))}return Ln(e,Qt),Mn(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","if")}}],[{key:"has",value:function(t){return M(t,"_if")?"_if":""}},{key:"manages",value:function(){return!0}}]),e}();Gn(Fn,"NodeHandlerConstructor",function(t){function e(){var t,n;$n(this,e);for(var r=arguments.length,o=new c(r),i=0;i<r;i++)o[i]=arguments[i];return Gn(Kn(Kn(n=Bn(this,(t=Vn(e)).call.apply(t,[this].concat(o))))),"_renderedEle",null),Gn(Kn(Kn(n)),"_renderTemplate",n._node.data),n}return Ln(e,Wt),Mn(e,[{key:"init",value:function(){for(var t,n=arguments.length,r=new c(n),o=0;o<n;o++)r[o]=arguments[o];(t=Hn(Vn(e.prototype),"init",this)).call.apply(t,[this].concat(r)),this._placeholderEle=Et("directive.if"),Xt(this._placeholderEle,this._node),Ot(this._node.parentNode,this._node)}},{key:"update",value:function(t){var e=wt.get(this);e.value!==t?t&&!this._renderedEle?(this._renderedEle=Re(this._renderTemplate,e.data,this._directives),Xt(this._renderedEle,this._placeholderEle)):t||this.destroy_renderedEle():this._renderedEle&&this._renderedEle[gt].setData(e.data)}},{key:"destroy_renderedEle",value:function(){this._renderedEle&&(this._renderedEle[gt].recover(),this._renderedEle[gt].destroy(),this._renderedEle=null)}}]),e}());var zn=function(t,e,n,r){var o=e.split(/\s+/),i={};return o.forEach(function(e){t.addEventListener(e,n,r),i[e]={remove:function(){return t.removeEventListener(e,n,r)}}}),f.create({listeners:i,remove:function(){o.forEach(function(t){return i[t].remove()})}})};function Un(t){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function Jn(t,e){return!e||"object"!==Un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qn(t,e,n){return(Qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xn(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xn(t){return(Xn=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Yn(t,e){return(Yn=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zn=new RegExp("^".concat(function(t){return u(t).replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}("_on."),"(.*)")),tr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,e),Jn(this,Xn(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(e,Qt),function(t,e,n){e&&qn(t.prototype,e),n&&qn(t,n)}(e,[{key:"init",value:function(t,e){this._attr=t,this._eventName=new RegExp(Zn).exec(t)[1],this._tokenValueGetter=Ct(e||"","on")}},{key:"handleEvent",value:function(t,e){var n,r=wt.get(t);r.data.$ev=e;try{n=this._tokenValueGetter(r.data)}catch(t){return void Dt(t)}if(delete r.data.$ev,"function"==typeof n)return n.call(t._n,e);n&&"function"===n.handleEvent&&n.handleEvent.call(n,e)}},{key:"render",value:function(t,e,n){var r=this,o=wt.get(t);o||(o={data:{$data:{}},tracker:function(){return r.render(t,e,o.data)}},wt.set(t,o)),n&&(n.$data?o.data=n:o.data.$data=n)}},{key:"getNodeHandler",value:function(t){var n=Qn(Xn(e.prototype),"getNodeHandler",this).call(this,t),r=zn(t,this._eventName,this.handleEvent.bind(this,n));return n.onDestroy(function(){return r.remove()}),n}}],[{key:"has",value:function(t){var e="";return Nt(t).some(function(t){return Zn.test(t)&&(e=t)}),e}}]),e}();function er(t){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function rr(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t){return(or=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function ir(t,e){return(ir=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ur=/^_prop\.(.*)/,ar=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}(this,e),rr(this,or(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ir(t,e)}(e,Fe),function(t,e,n){e&&nr(t.prototype,e),n&&nr(t,n)}(e,null,[{key:"_isProp",value:function(){return!0}},{key:"_matches",get:function(){return ur}}]),e}();function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fr(t,e,n){return(fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!f.prototype.hasOwnProperty.call(t,e)&&null!==(t=hr(t)););return t}(t,e);if(r){var o=f.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lr(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function pr(t,e,n){return e&&sr(t.prototype,e),n&&sr(t,n),t}function yr(t,e){return!e||"object"!==cr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hr(t){return(hr=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function dr(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}function vr(t,e){return(vr=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var br=function(t){function e(){return lr(this,e),yr(this,hr(e).apply(this,arguments))}return dr(e,Qt),pr(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","show")}}],[{key:"has",value:function(t){return M(t,"_show")?"_show":""}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(br,"NodeHandlerConstructor",function(t){function e(){return lr(this,e),yr(this,hr(e).apply(this,arguments))}return dr(e,Wt),pr(e,[{key:"init",value:function(){for(var t,n=arguments.length,r=new c(n),o=0;o<n;o++)r[o]=arguments[o];(t=fr(hr(e.prototype),"init",this)).call.apply(t,[this].concat(r)),this._origDisplayStyle=this._node.style.display||""}},{key:"update",value:function(t){var e=this._node.style;t?e.display=this._origDisplayStyle:"none"!==e.display&&(e.display="none")}}]),e}());function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){t&&"object"===_r(e)&&f.keys(e).forEach(function(n){t.style[n]=e[n]})}function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wr(t,e){if(!(t instanceof e))throw new d("Cannot call a class as a function")}function Sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f.defineProperty(t,r.key,r)}}function kr(t,e,n){return e&&Sr(t.prototype,e),n&&Sr(t,n),t}function Pr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Or(t){return(Or=f.setPrototypeOf?f.getPrototypeOf:function(t){return t.__proto__||f.getPrototypeOf(t)})(t)}function Er(t,e){if("function"!=typeof e&&null!==e)throw new d("Super expression must either be null or a function");t.prototype=f.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xr(t,e)}function xr(t,e){return(xr=f.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dr=function(t){function e(){return wr(this,e),Pr(this,Or(e).apply(this,arguments))}return Er(e,Qt),kr(e,[{key:"init",value:function(t,e){this._attr=t,this._tokenValueGetter=Ct(e||"","style")}}],[{key:"has",value:function(t){return M(t,"_style")?"_style":""}}]),e}();!function(t,e,n){e in t?f.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Dr,"NodeHandlerConstructor",function(t){function e(){return wr(this,e),Pr(this,Or(e).apply(this,arguments))}return Er(e,Wt),kr(e,[{key:"update",value:function(t){mr(this._node,t)}}]),e}());a.d(o,"DomDataBindAll",function(){return Cr}),a.d(o,"AttrDirective",function(){return Ge}),a.d(o,"ClassDirective",function(){return rn}),a.d(o,"EachDirective",function(){return Sn}),a.d(o,"HtmlDirective",function(){return An}),a.d(o,"IfDirective",function(){return Fn}),a.d(o,"OnDirective",function(){return tr}),a.d(o,"PropDirective",function(){return ar}),a.d(o,"ShowDirective",function(){return br}),a.d(o,"StyleDirective",function(){return Dr}),a.d(o,"DomDataBind",function(){return je}),a.d(o,"render",function(){return Te}),a.d(o,"allDirectives",function(){return s}),a.d(o,"Directive",function(){return Qt});var Cr=je.extend();Cr.directives=s;o.default=Cr}])})}(window,document,location,setTimeout,setInterval,Date,String,Number,Array,Object,Function,atob,btoa,Math,JSON,TypeError,Error,encodeURIComponent,decodeURIComponent,requestAnimationFrame,CustomEvent,clearInterval,clearTimeout,console);
//# sourceMappingURL=dom-data-bind.legacy.umd.min.js.map