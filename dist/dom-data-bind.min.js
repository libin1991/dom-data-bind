!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DomDataBind=t():e.DomDataBind=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t,n){"use strict";function r(e){if(e=e.trim(),f.has(e))return f.get(e);var t=new c("$data","\nwith ($data) {\n    if ($data) {\n        with ($data) {\n            return "+e+";\n        }\n    } \n    else {\n        return "+e+";\n    }\n}\n");return f.set(e,t),t}function o(e){for(var t=[],n=e.attributes.length,r=0;r<n;r++)t.push(e.attributes.item(r).name);return t}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"k",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"p",function(){return _}),n.d(t,"q",function(){return O}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return j}),n.d(t,"n",function(){return w}),n.d(t,"l",function(){return m}),n.d(t,"u",function(){return k}),n.d(t,"s",function(){return E}),n.d(t,"o",function(){return P}),n.d(t,"t",function(){return x}),n.d(t,"g",function(){return D}),n.d(t,"i",function(){return C}),n.d(t,"h",function(){return N}),n.d(t,"r",function(){return T}),t.j=r,t.m=o;var i=n(6),u=n(11),a=document,c=Function,s=Element.prototype,l=Array.prototype,f=new u.a,p=c.bind.call.bind(c.bind),d="DomDataBind",h=i.a.create(),b="D-"+Date.now()+"-"+Math.random().toString(36).replace(/[^a-z0-9]+/g,""),y=function(e){return String(e).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},v=p(c.call.bind,c.call),_=function(e){return"[object Object]"===Object.prototype.toString.call(e)},O=function(e){return"string"==typeof e},g=v(l.forEach),j=v(l.slice),w=v(s.hasAttribute),m=v(s.getAttribute),k=v(s.setAttribute),E=v(s.removeAttribute),P=v(s.insertBefore),x=v(s.removeChild),D=p(a.createComment,a),C=p(a.createTextNode,a),N=p(a.createDocumentFragment,a),T=p(console.error,console)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(10),a=n(5),c=n(0),s=n(2),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"render",value:function(e,t,n){var r=this,o=c.b.get(e);o||(o={data:null,value:"",isQueued:!1,deferUpd:this.update.bind(this,e),tracker:function(){return r.render(e,t,o.data)}},c.b.set(e,o)),o.data!==n&&(o.tracker.stopWatchingAll&&o.tracker.stopWatchingAll(),o.data=n),o.isQueued||(o.isQueued=!0,Object(u.a)(o.deferUpd))}},{key:"update",value:function(e){var t=c.b.get(e);if(t){var n="";Object(s.e)(t.tracker);try{n=this._tokenValueGetter(t.data||{}),e.update&&e.update(n)}catch(e){Object(c.r)(e)}Object(s.f)(t.tracker),t.isQueued=!1,t.value!==n&&(t.value=n)}}},{key:"getNodeHandler",value:function(e){return this._attr&&8!==e.nodeType&&Object(c.s)(e,this._attr),new d(this,e)}}],[{key:"has",value:function(){return""}},{key:"manages",value:function(){return!1}}]),t}(a.a);t.a=p;var d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"init",value:function(e,t){this._d=e,this._n=t}},{key:"destroy",value:function(){var e=c.b.get(this);e&&(e.tracker&&e.tracker.stopWatchingAll&&e.tracker.stopWatchingAll(),e.data&&(e.data=null)),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),c.b.delete(this)}},{key:"render",value:function(e){this._d.render(this,this._n,e)}},{key:"update",value:function(e){var t=c.b.get(this);if(t&&t.update)return t.update(e)}}]),t}(a.a)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){e[x]||i(e),t&&!e[x].props[t]?(a(e,t),c(e,t)):t&&e[x].props[t].setupInterceptors&&c(e,t),t&&n?e[x].props[t].storeCallback(n):t||(s(e,!1),n&&e[x].storeCallback(n));var r=_.bind(e,n,t?e[x].props[t]:e[x]);return r.destroy=r,r}function i(e){e[x]||(Object(k.f)(e,x,{configurable:!0,writable:!0,deep:!1,value:{props:{},dependents:new E.b,watchers:new E.b,storeCallback:v}}),u(e[x].dependents,!1),u(e[x].watchers,!0))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.async=t,e.isQueued=!1,e.notify=p}function a(e,t){return e[x].props[t]||(e[x].props[t]={val:void 0,dependents:new E.b,watchers:new E.b,parent:e[x],storeCallback:v,setupInterceptors:!0,deep:e[x].deep},u(e[x].props[t].dependents,!1),u(e[x].props[t].watchers,!0)),e[x].props[t]}function c(e,t){var n=Object.getOwnPropertyDescriptor(e,t)||D;n.get||(e[x].props[t].val=e[t],e[x].props[t].deep&&s(e[x].props[t].val)),Object(k.f)(e,t,{configurable:n.configurable||!1,enumerable:n.enumerable||!1,get:function(){return C.size&&C.forEach(e[x].props[t].storeCallback,e[x].props[t]),n.get?n.get.call(e):e[x].props[t].val},set:function(r){var o=e[t];return n.set?r=n.set.call(e,r):e[x].props[t].val=r,e[x].props[t].deep&&s(r),r!==o&&(e[x].props[t].watchers.notify(),e[x].props[t].dependents.notify(),e[x].watchers.notify()),r}}),e[x].props[t].setupInterceptors=!1,n===D&&e[x].watchers.notify()}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return F(e)||Object(k.d)(e)?(e[x]||(F(e)?i(e,n):Object(k.d)(e)&&m(e)),n||!e[x].deep?(t&&(e[x].deep=!0),Object(k.d)(e)?l(e):f(e),e):void 0):e}function l(e,t){for(var n=0,r=e.length;n<r;n++)s(e[n],!0,t)}function f(e,t){for(var n=Object(k.g)(e),r=0,o=n.length;r<o;r++)e[x].props[n[r]]||(a(e,n[r]),c(e,n[r])),e[x].props[n[r]].deep&&!t||(e[x].props[n[r]].deep=!0,F(e[n[r]])&&s(e[n[r]],!0,t))}function p(){this.size&&(this.async?this.forEach(h):this.forEach(b),d())}function d(e){e&&h(e),!$&&R.size&&($=!0,Object(P.a)(y))}function h(e){R.add(e)}function b(e){e()}function y(){var e=[].concat(r(R));R.clear(),$=!1;for(var t=0,n=e.length;t<n;t++)e[t]();e.length=0}function v(e){e.asDependent&&this.dependents?(j(e,this.dependents),this.dependents.add(e)):(j(e,this.watchers),this.watchers.add(e))}function _(e,t){e&&(t.dependents&&(t.dependents.delete(e),w(e,t.dependents)),t.watchers.delete(e),w(e,t.watchers))}function O(e){C.add(e)}function g(e){C.delete(e)}function j(e,t){e[N]||(Object(k.f)(e,N,{configurable:!0,writable:!0,value:{watching:new E.b}}),Object(k.f)(e,"stopWatchingAll",{configurable:!0,writable:!0,value:function(){e[N].watching.forEach(function(t){return t.delete(e)}),e[N].watching.clear()}})),e[N].watching.add(t)}function w(e,t){e[N]&&e[N].watching.delete(t)}function m(e){if(e[x]||i(e),!e[A]){var t=e.__proto__;if(!t[T]){var n=Object.create(t);S.forEach(function(r){Object(k.f)(n,r,{configurable:!0,writable:!0,value:function(){for(var n,o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=(n=t[r]).call.apply(n,[this].concat(i));return e[x].dependents.notify(),e[x].watchers.notify(),a}})}),Object(k.f)(n,"size",{configurable:!0,get:function(){return C.size&&C.forEach(this[x].storeCallback,this[x]),this.length}}),Object(k.f)(n,A,{value:!0}),Object(k.f)(t,T,{configurable:!0,writable:!0,value:n})}e.__proto__=t[T]}}n.d(t,"a",function(){return x}),t.d=o,t.c=s,t.e=O,t.f=g,t.b=m;var k=n(3),E=n(7),P=n(10),x="___$observable$___",D={configurable:!0,enumerable:!0},C=new E.b,N="___$watching$___",T="__$watchable$__",A="__$is"+T,S=["pop","push","shift","splice","unshift","sort","reverse"],F=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},R=new E.b,$=!1},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return d});var r=Function.bind.call.bind(Function.bind),o=r(Function.call.bind,Function.call),i=Object.defineProperty,u=Object.defineProperties,a=Object.keys,c=[],s=Array.isArray,l=(o(c.forEach),o(c.indexOf)),f=o(c.splice),p=console.log,d=(console.error,"undefined"!=typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator")},function(e,t,n){"use strict";function r(e,t,n){return i.has(e)||i.set(e,new o.b(e,n)),i.get(e).cloneWith(t)}t.b=r;var o=n(12),i=new Map;t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=void 0,n=[];for(t in e)n.push(t);return n}function a(e,t){return function(){e&&Object.keys(e).forEach(function(t){e[t]&&(h.some(function(n){if(e[t][n]&&("remove"!==n||!(e[t]instanceof Node)))return e[t][n](),!0}),e[t]=void 0)}),t&&t.has&&t.has(e)&&t.delete(e)}}function c(e){return d.has(e)||d.set(e,[]),d.get(e)}function s(e){"function"==typeof e&&e()}var l=n(16),f=n(6),p=n(17),d=f.a.create(),h=["destroy","remove","off"],b=(Object.create,{isDestroyed:!1,init:function(){},destroy:function(e){if(d.has(this)){var t=d.get(this);d.delete(this),e?t.forEach(s):Object(p.a)(function(){return t.forEach(s)})}"boolean"==typeof this.isDestroyed&&(this.isDestroyed=!0)},onDestroy:function(e){c(this).push(e)},getFactory:function(){if(this.constructor)return this.constructor}}),y={extend:function(){for(var e=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(this),t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return Object(l.a)(e.prototype,n.reduce(function(e,t){if(t){var n=t.prototype||t;u(n).forEach(function(t){e[t]=n[t]})}return e},{})),e},isInstanceOf:function(e){return!!e&&!u(this.prototype).some(function(t){return void 0===e[t]})},create:function(){return new(Function.prototype.bind.apply(this,[null].concat(Array.prototype.slice.call(arguments))))},getDestroyCallback:a},v=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this&&this.constructor&&this instanceof this.constructor?this.init.apply(this,n):new(Function.prototype.bind.apply(e,[null].concat(n)))}return e.prototype.constructor=e,e}();Object(l.a)(v.prototype,b),Object(l.a)(v,y),t.a=v},function(e,t,n){"use strict";"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};n.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}();var r={stash:new WeakMap,create:function(){return new WeakMap}};t.a=r},function(e,t,n){"use strict";function r(){}n.d(t,"a",function(){return a});var o=n(8),i=n(9),u=n(3),a=o.a.Set&&o.a.Set.prototype[u.a]?o.a.Set:r;t.b=a,Object(u.e)(r.prototype,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({constructor:{value:r,configurable:!0},_:{get:function(){var e=[];return Object(u.f)(this,"_",{value:e}),e}},add:{value:function(e){return-1===Object(u.b)(this._,e)&&this._.push(e),this}},has:{value:function(e){return-1!==Object(u.b)(this._,e)}},size:{get:function(){return this._.length}},clear:{value:function(){this._.splice(0)}},delete:{value:function(e){var t=Object(u.b)(this._,e);return-1!==t&&(this._.splice(t,1),!0)}},values:{value:function(){return new i.a(this._)}},entries:{value:function(){return new i.a(this._,this._)}},forEach:{value:function(e){var t=this;this._.forEach(function(n){return e(n,n,t)})}}},u.a,{value:function(){return this.values()}}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return"undefined"!==("undefined"==typeof window?"undefined":r(window))?window:"undefined"!==(void 0===e?"undefined":r(e))?e:"undefined"!==("undefined"==typeof self?"undefined":r(self))?self:Function("return this;")()}()}).call(t,n(19))},function(e,t,n){"use strict";function r(e,t){Object(o.f)(this,"_",{value:{keys:e.slice(0),values:t?t.slice(0):null,idx:0,total:e.length}})}t.a=r;var o=n(3);Object(o.e)(r.prototype,{constructor:{value:r},next:{enumerable:!0,configurable:!0,value:function(){var e={done:this._.idx===this._.total};if(e.done)return e.value=void 0,e;var t=this._.idx++;return e.value=this._.keys[t],this._.values&&(e.value=[e.value,this._.values[t]]),e}}}),Object(o.f)(r.prototype,o.a,{value:function(){return this}})},function(e,t,n){"use strict";var r=/native code/i,o=function(){function e(){setTimeout(function(){n.shift()(),n.length?e():o=!1},0)}if("undefined"!=typeof setImediate&&r.test(setImediate.toString()))return setImediate;if("function"==typeof Promise&&r.test(Promise.toString())){var t=Promise.resolve();return function(e){t.then(e).catch(function(e){return console.log(e)})}}var n=[],o=!1;return function(t){n.push(t),o||(o=!0,e())}}();t.a=o},function(e,t,n){"use strict";var r=n(20);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=new Map,r=new Map,o=new Set,i=void 0,u=function(e){for(var t=void 0,n=void 0,u=void 0,c=i;t=e.has(i);)if(n=Object(y.l)(i,t),u=e.manages(),u&&(c=Object(y.g)("")),a(r,c).push(s(e,t,n)),Object(y.s)(i,t),u){o.add(i),i.parentNode.insertBefore(c,i);var l=document.createElement("div");l.appendChild(i),c.data=l.innerHTML}return u},l=function(e){if(k(e)){w.lastIndex=0;for(var t=m(e),n=w.exec(t);n;)if(t==="{{"+n[1]+"}}")a(r,e).push(c(v.a,n[1])),n=null;else{var o=g(e,n.index);O&&p(e),e=g(o,n[0].length);var i=o.parentNode.insertBefore(Object(y.g)(y.c),o);o.parentNode.removeChild(o),a(r,i).push(c(v.a,n[1])),w.lastIndex=0,n=w.exec(m(e)),!n&&O&&p(e)}}};return d(e).forEach(function(e){var n=!1;if(o.size){var r=!0,a=!1,c=void 0;try{for(var s,f=o.values()[Symbol.iterator]();!(r=(s=f.next()).done);r=!0){if(s.value.contains(e)){n=!0;break}}}catch(e){a=!0,c=e}finally{try{!r&&f.return&&f.return()}finally{if(a)throw c}}}i=e,n||(1===e.nodeType?t.some(u):3===e.nodeType&&l(e))}),i=null,r.forEach(function(t,r){if(e===r)return void n.set([],t);for(var o=[],i=r,u=i.parentNode;i!==e;)o.unshift(o.indexOf.call(u.childNodes,i)),i=i.parentNode,u=i.parentNode;n.set(o,t)}),r.clear(),o.clear(),n}function i(e,t,n){var r=[];return t.forEach(function(t,o){var i=u(e,o);if(!i)return void Object(y.r)(new Error("dom-data-bind#render(): Unable to find node!"));for(var a=0,c=t.length;a<c;a++)r.push(t[a].getNodeHandler(i,n))}),r}function u(e,t){return t.length?(Object(y.d)(t,function(t){return e=e.childNodes[t]}),e):e}function a(e,t){return e.has(t)||e.set(t,[]),e.get(t)}function c(e,t){t=t.trim();var n=y.b.get(e);return n||(n={},y.b.set(e,n)),n[t]||(n[t]=new e(t)),n[t]}function s(e,t,n){n=n.trim();var r=t+"-"+y.c+"-"+n,o=y.b.get(e);return o||(o={},y.b.set(e,o)),o[r]||(o[r]=new e(t,n)),o[r]}function l(e){return 1!==e.nodeType||1===e.nodeType&&e.attributes.length>0}function f(e,t){if(e.push(t),t.hasChildNodes())for(t=t.firstChild;t;){var n=t.nextSibling;3===t.nodeType&&t.nodeValue&&j.test(m(t))&&e.push(t),O&&p(t),t=n}return e}function p(e){3===e.nodeType&&O&&!e.nodeValue&&(e.parentNode.insertBefore(Object(y.g)(""),e),e.parentNode.removeChild(e))}function d(e){return[e].concat(Object(b.a)(e,"*")).reduce(f,[]).filter(l)}t.c=o,t.a=i;var h=n(2),b=n(21),y=n(0),v=n(22),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(){var e=Object(y.h)();return e.appendChild(Object(y.i)("test")),e.appendChild(Object(y.i)("")),1===e.cloneNode(!0).childNodes.length}(),g=Object(y.f)(Text.prototype.splitText),j=new RegExp("{{(.*?)}}"),w=new RegExp("{{(.*?)}}","g"),m=function(e){return e?e.nodeValue:""},k=function(e){return j.test(m(e))},E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,e),this._template=document.createElement("template"),this._template.innerHTML=t,this._directives=n,this._bindings=o(this._template.content,n)}return _(e,[{key:"cloneWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.c)(e);var t=document.importNode(this._template.content,!0);return t[y.a]=new P(t,i(t,this._bindings,this._directives)),t[y.a].setData(e),t}}]),e}();t.b=E;var P=function(){function e(t,n){r(this,e),this._frag=t,this._bindings=n}return _(e,[{key:"destroy",value:function(){if(this._bindings){for(var e=0,t=this._bindings.length;e<t;e++)this._bindings[e].destroy();this._bindings.length=0}}},{key:"setData",value:function(e){for(var t=0,n=this._bindings.length;t<n;t++)this._bindings[t].render(e)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),a=n(0),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=/^_attr\.(.*)/,f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(a.j)(t||""),this._htmlAttr=new RegExp(this.constructor._matches).exec(e)[1]}},{key:"render",value:function(e,n,r){var o=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var i=a.b.get(e);i.update||(i.update=function(e){o.constructor._isProp?e!==i.value&&(n[o._htmlAttr]=e):e&&i.value!==e?Object(a.u)(n,o._htmlAttr,e):i.value&&!e&&Object(a.s)(n,o._htmlAttr)})}}],[{key:"has",value:function(e){var t=this,n="";return Object(a.m)(e).some(function(e){return t._matches.test(e)&&(n=e)}),n}},{key:"_matches",get:function(){return l}},{key:"_isProp",get:function(){return!1}}]),t}(u.a);t.a=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DomDataBindAll",function(){return b});var r=n(15),o=n(4),i=n(1),u=n(23),a=n(27),c=n(28),s=n(29),l=n(13),f=n(30),p=n(31),d=n(33),h=n(35);n.d(t,"DomDataBind",function(){return r.a}),n.d(t,"render",function(){return o.a}),n.d(t,"Directive",function(){return i.a}),n.d(t,"EachDirective",function(){return d.a}),n.d(t,"IfDirective",function(){return c.a}),n.d(t,"ClassDirective",function(){return u.a}),n.d(t,"StyleDirective",function(){return a.a}),n.d(t,"ShowDirective",function(){return s.a}),n.d(t,"AttrDirective",function(){return l.a}),n.d(t,"PropDirective",function(){return f.a}),n.d(t,"OnDirective",function(){return p.a}),n.d(t,"HtmlDirective",function(){return h.a});var b=r.a.extend();b.directives=[d.a,c.a,u.a,a.a,s.a,l.a,f.a,p.a,h.a],t.default=b},function(e,t,n){"use strict";var r=n(5),o=n(2),i=n(0),u=n(12),a=n(4),c=r.a.extend({$ele:null,init:function(e,t){var n=this.getFactory(),r={html:e,data:t,directives:n.directives.slice(0)};i.b.set(this,r),Object(i.q)(e)?(this.$ele=Object(a.b)(e,t,r.directives),r.bindings=this.$ele._domDataBindNodeHandlers):(this.$ele=e,r.bindings=Object(u.a)(e,Object(u.c)(e,r.directives),r.directives),t&&this.setData(t)),this.onDestroy(function(){Object(i.d)(r.bindings,function(e){return e.destroy()}),delete r.data,delete r.directives,delete r.bindings,n.getDestroyCallback(r,i.b)()})},setData:function(e){Object(o.c)(e);var t=i.b.get(this).bindings;Object(i.d)(t,function(t){return t.render(e)})}});t.a=c,c.directives=[]},function(e,t,n){"use strict";function r(e){for(var t=e||{},n=arguments.length,u=Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];var c=u.length,s=!1,l=void 0,f=void 0;for("boolean"==typeof e&&(s=e,t=u.shift()||{},c=u.length),l=0;l<c;l++)if(u[l])for(f in u[l])u[l].hasOwnProperty(f)&&(s&&i(t[f])===o&&i(u[l][f])===o?t[f]=r(!0,t[f],u[l][f]):t[f]=u[l][f]);return t}var o="[object Object]",i=Function.call.bind(Object.prototype.toString);t.a=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){"function"==typeof e&&(a.add(e),c||(c=setTimeout(i,0)))}function i(){var e=[].concat(r(a));a.clear(),c=null;for(var t=void 0;t=e.shift();)t(),t=null}var u=n(18),a=new u.a,c=void 0;t.a=o},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",function(){return r.a})},function(e,t){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){}n.d(t,"a",function(){return a});var o=n(8),i=n(9),u=n(3),a=o.a.Map&&o.a.Map.prototype[u.a]?o.a.Map:r;Object(u.e)(r.prototype,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({constructor:{value:r,configurable:!0},_:{get:function(){return Object(u.f)(this,"_",{value:{keys:[],values:[]}}),this._}},get:{value:function(e){return this._.values[Object(u.b)(this._.keys,e)]}},set:{value:function(e,t){return-1===Object(u.b)(this._.keys,e)&&(this._.keys.push(e),this._.values.push(t)),this}},has:{value:function(e){return-1!==Object(u.b)(this._.keys,e)}},size:{get:function(){return this._.keys.length}},clear:{value:function(){Object(u.c)(this._.keys,0),Object(u.c)(this._.values,0)}},delete:{value:function(e){var t=Object(u.b)(this._.keys,e);return-1!==t&&(Object(u.c)(this._.keys,t,1),Object(u.c)(this._.values,t,1),!0)}},keys:{value:function(){return new i.a(this._.keys)}},values:{value:function(){return new i.a(this._.values)}},entries:{value:function(){return new i.a(this._.keys,this._.values)}},forEach:{value:function(e){var t=this;this._.keys.forEach(function(n,r){return e(t._.values[r],n,t)})}}},u.a,{value:function(){return this.entries()}}))},function(e,t,n){"use strict";function r(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),a=n(0),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"init",value:function(e){this._tokenText=e,this._tokenValueGetter=Object(a.j)(e)}},{key:"render",value:function(e,n,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=a.b.get(e);o.update||(o.update=function(e){e!==n.nodeValue&&(n.nodeValue=e)})}},{key:"getNodeHandler",value:function(e){if(8===e.nodeType&&e.nodeValue===a.c){var n=e;e=e.parentNode.insertBefore(document.createTextNode(""),n),n.parentNode.removeChild(n)}return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getNodeHandler",this).call(this,e)}}]),t}(u.a);t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(t).concat(Object.keys(n)).forEach(function(n){t[n]&&!Object(a.a)(e,n)?Object(c.a)(e,n):!t[n]&&Object(a.a)(e,n)&&Object(s.a)(e,n)})}var a=n(24),c=n(25),s=n(26),l=n(1),f=n(0),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(f.j)(t||"")}},{key:"render",value:function(e,n,r){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=f.b.get(e);o.update||(o.update=function(e){return u(n,e,e!==o.value?o.value:{})})}}],[{key:"has",value:function(e){return Object(f.n)(e,"_class")?"_class":""}}]),t}(l.a);t.a=h},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&e.classList.contains(t)}t.a=r},function(e,t,n){"use strict";function r(e,t){var n=String(t).trim().split(/\s+/).map(function(e){return e.trim()});e&&n.length&&n.forEach(function(t){return e.classList.add(t)})}t.a=r},function(e,t,n){"use strict";function r(e,t){return e.classList.remove(t)}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),a=n(1),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(u.j)(t||"")}},{key:"render",value:function(e,n,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=u.b.get(e);if(!o.update){var i=n.style;o.update=function(e){Object.keys(e).forEach(function(t){i[t]!==e[t]&&(i[t]=e[t])})}}}}],[{key:"has",value:function(e){return Object(u.n)(e,"_style")?"_style":""}}]),t}(a.a);t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){this.value!==e&&(e&&!this.renderedEle?(this.renderedEle=Object(l.b)(this.renderTemplate,this.data,this.directives),this.renderedEle._children=Object(s.e)(this.renderedEle.childNodes,0),Object(s.o)(this.insertEle.parentNode,this.renderedEle,this.insertEle)):!e&&this.renderedEle&&this.destroyRenderedEle())}function a(){this.renderedEle&&(this.renderedEle._children.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.renderedEle[s.a].destroy(),this.renderedEle=null)}var c=n(1),s=n(0),l=n(4),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(s.j)(t||"")}},{key:"render",value:function(e,n,r){p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=s.b.get(e);o.update||(o.renderedEle=null,o.insertEle=e._placeholderEle,o.directives=e._directives,o.destroyRenderedEle=a,o.renderTemplate=e._n.data,o.update=u,e.onDestroy(function(){return o.destroyRenderedEle()}))}},{key:"getNodeHandler",value:function(e,n){var r=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getNodeHandler",this).call(this,e);return r._placeholderEle=Object(s.g)(""),r._directives=n,Object(s.o)(e.parentNode,r._placeholderEle,e),Object(s.t)(e.parentNode,e),r}}],[{key:"has",value:function(e){return Object(s.n)(e,"_if")?"_if":""}},{key:"manages",value:function(){return!0}}]),t}(c.a);t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),a=n(0),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(a.j)(t||"")}},{key:"render",value:function(e,n,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=a.b.get(e);if(!o.update){var i=n.style,u=n.display||"";o.update=function(e){e?i.display=u:"none"!==i.display&&(i.display="none")}}}}],[{key:"has",value:function(e){return Object(a.n)(e,"_show")?"_show":""}}]),t}(u.a);t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(13),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=/^_prop\.(.*)/,s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,null,[{key:"_isProp",value:function(){return!0}},{key:"_matches",get:function(){return c}}]),t}(u.a);t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(32),a=n(1),c=n(0),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},f=new RegExp("^"+Object(c.k)("_on.")+"(.*)"),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"init",value:function(e,t){this._attr=e,this._eventName=new RegExp(f).exec(e)[1],this._tokenValueGetter=Object(c.j)(t||"")}},{key:"handleEvent",value:function(e,t){var n=c.b.get(e),r=void 0;n.data.$ev=t;try{r=this._tokenValueGetter(n.data)}catch(e){return void Object(c.r)(e)}if(delete n.data.$ev,"function"==typeof r)return r(t)}},{key:"render",value:function(e,t,n){var r=this,o=c.b.get(e);o||(o={data:{$data:{}},tracker:function(){return r.render(e,t,o.data)}},c.b.set(e,o)),n&&(n.$data?o.data=n:o.data.$data=n)}},{key:"getNodeHandler",value:function(e){var n=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getNodeHandler",this).call(this,e),r=Object(u.a)(e,this._eventName,this.handleEvent.bind(this,n));return n.onDestroy(function(){return r.remove()}),n}}],[{key:"has",value:function(e){var t="";return Object(c.m)(e).some(function(e){return f.test(e)&&(t=e)}),t}}]),t}(a.a);t.a=p},function(e,t,n){"use strict";function r(e,t,n,r){var o=t.split(/\s+/),i={};return o.forEach(function(t){e.addEventListener(t,n,r),i[t]={remove:function(){return e.removeEventListener(t,n,r)}}}),Object.create({listeners:i,remove:function(){o.forEach(function(e){return i[e].remove()})}})}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){for(var e=0,t=this._children.length;e<t;e++)this._children[e].parentNode&&this._children[e].parentNode.removeChild(this._children[e]);this._loop.rowKey&&this._state.bindersByKey.delete(this._loop.rowKey),this._state=null,this[d.a].destroy()}function a(e){var t=/\(?(.+?)\)?\W?(?:of|in)\W(.*)/.exec(e);return t?(t=t.slice(1),t[0]=t[0].split(/\,/).map(function(e){return String(e).trim()}),t):[]}function c(e){return Array.prototype.every.call(e.parentNode.childNodes,function(t){return t===e||3===t.nodeType&&!t.textContent.trim()})}var s=n(11),l=n(2),f=n(34),p=n(1),d=n(0),h=n(4),b=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},_=function(){},O=function(e){return Array.isArray(e)&&!e.length||Object(d.p)(e)&&!Object.keys(e).length},g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"init",value:function(e,t){var n=a((t||"").trim()),r=b(n,2),o=r[0],i=r[1];this._attr=e,this._iteratorArgs=o,this._tokenValueGetter=Object(d.j)(i||"")}},{key:"render",value:function(e,n,r){var o=this;v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var i=d.b.get(e);i.update||(i.binders=[],i.bindersByKey=new s.a,i.listIterator=function(){return o.iterateOverList(e,i.value)},i.isFirstRender=!0,i.usesKey=!1,i.getKey=_,i.update=function(t){if(t!==i.value){if(i.value&&(i.value=null,i.listIterator.stopWatchingAll&&i.listIterator.stopWatchingAll()),!t)return void o.destroyChildBinders(i.binders,e);Object(l.f)(i.tracker),i.value=t,Object(l.c)(t),Array.isArray(t)?Object(f.a)(t,i.listIterator):Object(d.p)(t)&&Object(l.d)(t,null,i.listIterator),O(t)&&i.binders?o.destroyChildBinders(i.binders,e):o.iterateOverList(e,t)}},e.onDestroy(function(){i.listIterator.stopWatchingAll&&i.listIterator.stopWatchingAll(),i.bindersByKey.clear(),o.destroyChildBinders(i.binders,e)}))}},{key:"destroyChildBinders",value:function(e,t){if(e&&e.length)if(e=e.splice(0),t._isSoleChild){var n=t._placeholderEle.parentNode;n.textContent="",n.appendChild(t._placeholderEle),setTimeout(function(){Object(d.d)(e.splice(0),function(e){return e.destroy()})})}else Object(d.d)(e.splice(0),function(e){return e._destroy()})}},{key:"getDataForIteration",value:function(e,t){return this._iteratorArgs.reduce(function(t,n){return t[n]=e.shift(),t},t||{})}},{key:"iterateOverList",value:function(e,t){var n,r=d.b.get(e),o=[],i=Object(d.h)(),u=Array.isArray(t),a=void 0;if(u)u=!0,a=t;else{if(!Object(d.p)(t))return;a=Object.keys(t)}for(var c=0,s=a.length;c<s;c++){var l={$data:r.data.$data||r.data};u?this.getDataForIteration([a[c],c],l):this.getDataForIteration([t[a[c]],a[c],c],l);var f=this.getRowBinder(e,l);f._loop.pos=c,o.push(f),i.appendChild(f)}i.hasChildNodes()&&Object(d.o)(e._placeholderEle.parentNode,i,e._placeholderEle),Object(d.d)((n=r.binders).splice.apply(n,[0,r.binders.length].concat(o)),function(e){-1===o.indexOf(e)&&e._destroy()}),r.binders.length&&this.positionChildren(e._placeholderEle.parentNode,e._placeholderEle,r.binders)}},{key:"getRowBinder",value:function(e,t){var n=d.b.get(e),r=n.getKey(t),o=void 0;return r&&(o=n.bindersByKey.get(r)),o?(delete t.$data,o[d.a].setData(t),o):(o=Object(h.b)(e._n.data,t,e._directives),n.isFirstRender&&(n.isFirstRender=!1,1===o.childNodes.length&&1===o.firstChild.nodeType&&Object(d.n)(o.firstChild,"_key")&&(n.usesKey=!0,n.getKey=Object(d.j)(Object(d.l)(o.firstChild,"_key")),r=n.getKey())),n.usesKey&&Object(d.s)(o.firstChild,"_key"),o._children=Object(d.e)(o.childNodes,0),o._destroy=u,o._state=n,o._loop={rowEle:o,rowKey:r,pos:-1},r&&n.bindersByKey.set(r,o),o)}},{key:"positionChildren",value:function(e,t,n){Object(d.d)(n,function(r,o){r._loop.pos!==o&&(Object(d.o)(e,r._loop.rowEle,n[o+1]?n[o+1]._loop.rowEle:t),r._loop.pos=o)})}},{key:"getNodeHandler",value:function(e,n){var r=v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getNodeHandler",this).call(this,e);return r._directives=n,r._placeholderEle=Object(d.g)(""),r._isSoleChild=c(e),Object(d.o)(e.parentNode,r._placeholderEle,e),Object(d.t)(e.parentNode,e),r}}],[{key:"has",value:function(e){return Object(d.n)(e,"_each")?"_each":""}},{key:"manages",value:function(){return!0}}]),t}(p.a);t.a=g},function(e,t,n){"use strict";function r(e,t){e[o.a]||Object(o.b)(e),t&&e[o.a].storeCallback(t);var n=function(){return e[o.a].watchers.delete(t)};return n.destroy=n,n}t.a=r;var o=n(2)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),a=n(0),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"init",value:function(e,t){this._attr=e,this._tokenValueGetter=Object(a.j)(t||"")}},{key:"render",value:function(e,n,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this,e,n,r);var o=a.b.get(e);o.update||(o.update=function(e){e!==o.value&&(n.innerHTML=e)})}}],[{key:"has",value:function(e){return Object(a.n)(e,"_html")?"_html":""}}]),t}(u.a);t.a=l}])});
//# sourceMappingURL=dom-data-bind.min.js.map